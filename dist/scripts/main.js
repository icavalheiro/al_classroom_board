function createTable(){for(var t=$("table"),e=0;e<table.length;e++){var a=table[e],n="<tr>";n+="<td>"+a[0]+"</td>";for(var r=1;r<a.length;r++)a[r].indexOf("\n")>=0?n+='<td class="room-cell" id="'+e+"-"+r+'">'+a[r].split("\n").join("<br/>")+"</td>":n+='<td class="room-cell" id="'+e+"-"+r+'">'+a[r]+"</td>";n+="<tr>",t.append(n)}}function enableEditing(){function t(t){var e=t.find("textarea").val();t.remove("textarea");var a=t.attr("id").split("-");table[a[0]][a[1]]=e,-1==e.indexOf("\n")?t.text(e):t.html(e.split("\n").join("<br/>")),database(table)}function e(e){var a=e.attr("id").split("-"),n=table[a[0]][a[1]];e.empty(),e.append('<textarea type="textarea"/></textarea>'),e.find("textarea").focus().focusout(function(){currentElement=null,t($($(this).parent()))}).val(n)}$("html").on("click",function(a){var n=$(a.target);if(currentElement){if(currentElement.attr("id")==n.attr("id")||$(n.parent()).attr("id")==currentElement.attr("id"))return;t(currentElement),currentElement=null}n.hasClass("room-cell")&&(currentElement=n,e(n))})}function getEmptyTable(){return[["8:30","","","","","","",""],["10:00","","","","","","",""],["13:00","","","","","","",""],["14:00","","","","","","",""],["15:30","","","","","","",""],["17:00","","","","","","",""],["18:30","","","","","","",""],["20:00","","","","","","",""]]}function resetTable(){database(getEmptyTable()),location.reload()}var table=null,currentElement=null;$(document).ready(function(){table=database()||getEmptyTable(),createTable(),enableEditing()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2ljLmpzIl0sIm5hbWVzIjpbImNyZWF0ZVRhYmxlIiwiZG9tVGFibGUiLCIkIiwiaSIsInRhYmxlIiwibGVuZ3RoIiwicm93IiwiaHRtbCIsImoiLCJpbmRleE9mIiwic3BsaXQiLCJqb2luIiwiYXBwZW5kIiwiZW5hYmxlRWRpdGluZyIsInRlcm1pbmF0ZUVkaXRpbmciLCJlIiwiaW5wdXRWYWx1ZSIsImZpbmQiLCJ2YWwiLCJyZW1vdmUiLCJpZFNwbGl0IiwiYXR0ciIsInRleHQiLCJkYXRhYmFzZSIsImluaXRpYXRlRWRpdGluZyIsImN1cnJlbnRUZXh0IiwiZW1wdHkiLCJmb2N1cyIsImZvY3Vzb3V0IiwiY3VycmVudEVsZW1lbnQiLCJ0aGlzIiwicGFyZW50Iiwib24iLCJlbGVtZW50IiwidGFyZ2V0IiwiaGFzQ2xhc3MiLCJnZXRFbXB0eVRhYmxlIiwicmVzZXRUYWJsZSIsImxvY2F0aW9uIiwicmVsb2FkIiwiZG9jdW1lbnQiLCJyZWFkeSJdLCJtYXBwaW5ncyI6IkFBR0EsU0FBQUEsY0FFQSxJQUFBLElBREFDLEVBQUFDLEVBQUEsU0FDQUMsRUFBQSxFQUFBQSxFQUFBQyxNQUFBQyxPQUFBRixJQUFBLENBQ0EsSUFBQUcsRUFBQUYsTUFBQUQsR0FDQUksRUFBQSxPQUNBQSxHQUFBLE9BQUFELEVBQUEsR0FBQSxRQUNBLElBQUEsSUFBQUUsRUFBQSxFQUFBQSxFQUFBRixFQUFBRCxPQUFBRyxJQUNBRixFQUFBRSxHQUFBQyxRQUFBLE9BQUEsRUFDQUYsR0FBQSw2QkFBQUosRUFBQSxJQUFBSyxFQUFBLEtBQUFGLEVBQUFFLEdBQUFFLE1BQUEsTUFBQUMsS0FBQSxTQUFBLFFBRUFKLEdBQUEsNkJBQUFKLEVBQUEsSUFBQUssRUFBQSxLQUFBRixFQUFBRSxHQUFBLFFBRUFELEdBQUEsT0FFQU4sRUFBQVcsT0FBQUwsSUFLQSxTQUFBTSxnQkFDQSxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFFLEtBQUEsWUFBQUMsTUFDQUgsRUFBQUksT0FBQSxZQUNBLElBQUFDLEVBQUFMLEVBQUFNLEtBQUEsTUFBQVgsTUFBQSxLQUNBTixNQUFBZ0IsRUFBQSxJQUFBQSxFQUFBLElBQUFKLEdBRUEsR0FBQUEsRUFBQVAsUUFBQSxNQUNBTSxFQUFBTyxLQUFBTixHQUVBRCxFQUFBUixLQUFBUyxFQUFBTixNQUFBLE1BQUFDLEtBQUEsVUFFQVksU0FBQW5CLE9BR0EsU0FBQW9CLEVBQUFULEdBQ0EsSUFBQUssRUFBQUwsRUFBQU0sS0FBQSxNQUFBWCxNQUFBLEtBQ0FlLEVBQUFyQixNQUFBZ0IsRUFBQSxJQUFBQSxFQUFBLElBQ0FMLEVBQUFXLFFBQ0FYLEVBQUFILE9BQUEsMENBQ0FHLEVBQUFFLEtBQUEsWUFBQVUsUUFBQUMsU0FBQSxXQUNBQyxlQUFBLEtBQ0FmLEVBQUFaLEVBQUFBLEVBQUE0QixNQUFBQyxhQUNBYixJQUFBTyxHQUlBdkIsRUFBQSxRQUFBOEIsR0FBQSxRQUFBLFNBQUFqQixHQUNBLElBQUFrQixFQUFBL0IsRUFBQWEsRUFBQW1CLFFBRUEsR0FBQUwsZUFBQSxDQUNBLEdBQUFBLGVBQUFSLEtBQUEsT0FBQVksRUFBQVosS0FBQSxPQUNBbkIsRUFBQStCLEVBQUFGLFVBQUFWLEtBQUEsT0FBQVEsZUFBQVIsS0FBQSxNQUNBLE9BRUFQLEVBQUFlLGdCQUNBQSxlQUFBLEtBR0FJLEVBQUFFLFNBQUEsZUFFQU4sZUFBQUksRUFDQVQsRUFBQVMsTUFLQSxTQUFBRyxnQkFDQSxRQUNBLE9BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FDQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQ0EsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxLQUNBLFFBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FDQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQ0EsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxLQUNBLFFBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FDQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBSUEsU0FBQUMsYUFDQWQsU0FBQWEsaUJBQ0FFLFNBQUFDLFNBcEZBLElBQUFuQyxNQUFBLEtBcUJBeUIsZUFBQSxLQWtFQTNCLEVBQUFzQyxVQUFBQyxNQUFBLFdBQ0FyQyxNQUFBbUIsWUFBQWEsZ0JBQ0FwQyxjQUNBYSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRhYmxlID0gbnVsbDtcblxuXG5mdW5jdGlvbiBjcmVhdGVUYWJsZSgpe1xuICAgIHZhciBkb21UYWJsZSA9ICQoJ3RhYmxlJyk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRhYmxlLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIHJvdyA9IHRhYmxlW2ldO1xuICAgICAgICB2YXIgaHRtbCA9ICc8dHI+JztcbiAgICAgICAgaHRtbCArPSAnPHRkPicgKyByb3dbMF0gKyAnPC90ZD4nO1xuICAgICAgICBmb3IodmFyIGogPSAxOyBqIDwgcm93Lmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgIGlmKHJvd1tqXS5pbmRleE9mKCdcXG4nKSA+PSAwKVxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0ZCBjbGFzcz1cInJvb20tY2VsbFwiIGlkPVwiJyArIGkgKyAnLScgKyBqICsgJ1wiPicrcm93W2pdLnNwbGl0KCdcXG4nKS5qb2luKCc8YnIvPicpKyc8L3RkPic7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPHRkIGNsYXNzPVwicm9vbS1jZWxsXCIgaWQ9XCInICsgaSArICctJyArIGogKyAnXCI+Jytyb3dbal0rJzwvdGQ+JztcbiAgICAgICAgfVxuICAgICAgICBodG1sICs9ICc8dHI+JztcblxuICAgICAgICBkb21UYWJsZS5hcHBlbmQoaHRtbCk7XG4gICAgfVxufVxuXG52YXIgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuZnVuY3Rpb24gZW5hYmxlRWRpdGluZygpe1xuICAgIGZ1bmN0aW9uIHRlcm1pbmF0ZUVkaXRpbmcoZSl7XG4gICAgICAgIHZhciBpbnB1dFZhbHVlID0gZS5maW5kKCd0ZXh0YXJlYScpLnZhbCgpO1xuICAgICAgICBlLnJlbW92ZSgndGV4dGFyZWEnKTtcbiAgICAgICAgdmFyIGlkU3BsaXQgPSBlLmF0dHIoJ2lkJykuc3BsaXQoJy0nKTtcbiAgICAgICAgdGFibGVbaWRTcGxpdFswXV1baWRTcGxpdFsxXV0gPSBpbnB1dFZhbHVlO1xuXG4gICAgICAgIGlmKGlucHV0VmFsdWUuaW5kZXhPZignXFxuJykgPT0gLTEpXG4gICAgICAgICAgICBlLnRleHQoaW5wdXRWYWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGUuaHRtbChpbnB1dFZhbHVlLnNwbGl0KCdcXG4nKS5qb2luKCc8YnIvPicpKTtcblxuICAgICAgICBkYXRhYmFzZSh0YWJsZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhdGVFZGl0aW5nKGUpe1xuICAgICAgICB2YXIgaWRTcGxpdCA9IGUuYXR0cignaWQnKS5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgY3VycmVudFRleHQgPSB0YWJsZVtpZFNwbGl0WzBdXVtpZFNwbGl0WzFdXTtcbiAgICAgICAgZS5lbXB0eSgpO1xuICAgICAgICBlLmFwcGVuZCgnPHRleHRhcmVhIHR5cGU9XCJ0ZXh0YXJlYVwiLz48L3RleHRhcmVhPicpO1xuICAgICAgICBlLmZpbmQoJ3RleHRhcmVhJykuZm9jdXMoKS5mb2N1c291dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGVybWluYXRlRWRpdGluZygkKCQodGhpcykucGFyZW50KCkpKTtcbiAgICAgICAgfSkudmFsKGN1cnJlbnRUZXh0KTtcbiAgICB9XG5cblxuICAgICQoJ2h0bWwnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkKGUudGFyZ2V0KTtcblxuICAgICAgICBpZihjdXJyZW50RWxlbWVudCl7XG4gICAgICAgICAgICBpZihjdXJyZW50RWxlbWVudC5hdHRyKCdpZCcpID09IGVsZW1lbnQuYXR0cignaWQnKVxuICAgICAgICAgICAgfHwgJChlbGVtZW50LnBhcmVudCgpKS5hdHRyKCdpZCcpID09IGN1cnJlbnRFbGVtZW50LmF0dHIoJ2lkJykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0ZXJtaW5hdGVFZGl0aW5nKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGVsZW1lbnQuaGFzQ2xhc3MoJ3Jvb20tY2VsbCcpKXtcblxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgaW5pdGlhdGVFZGl0aW5nKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEVtcHR5VGFibGUoKXtcbiAgICByZXR1cm4gW1xuICAgICAgICBbICc4OjMwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzEwOjAwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzEzOjAwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzE0OjAwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzE1OjMwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzE3OjAwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzE4OjMwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgICAgICBbJzIwOjAwJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gcmVzZXRUYWJsZSgpe1xuICAgIGRhdGFiYXNlKGdldEVtcHR5VGFibGUoKSk7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICB0YWJsZSA9IGRhdGFiYXNlKCkgfHwgZ2V0RW1wdHlUYWJsZSgpO1xuICAgIGNyZWF0ZVRhYmxlKCk7XG4gICAgZW5hYmxlRWRpdGluZygpO1xufSk7Il19
